<template name="dashboard">
<div class="container">
    <div id="sidebar">
	<div class="lboardTitle">
		<p id="head">Leaderboard </p>
	</div>
		{{>leaderboard}}
    </div>
	<div class="main-content">
		<img src="tab.png" data-toggle=".container" id="sidebar-toggle">
    </div>
</div>
			<table id="dash-info"><tr>
			<td>
				<tr id="profile">
					<div class= "profiler">
						{{#with currentUser}}
							{{> avatar user=this shape="rounded" size="large"}}
						{{/with}}
					</div>
					<span id="name">{{name}} </span>
					<button id="settings"> <span class="glyphicon glyphicon-cog"></span>
       					 </button>
					<br><br><div class ="bioDisplay">
						{{bio}}
					</div>				
				</tr>
				<tr id="main">
				<div class="portal">
					{{>navigation}}
				</div>
				<div class="tab-content">
				<div id="feed" class="tab-pane fade in active">
					{{>feed}}
				</div>
				<div id="challenge" class="tab-pane fade">
					{{>challenge}}
				</div>
				<div id="comments" class="tab-pane fade">
					{{>posts}}
				</div>
				</div>
				</tr>
			</td>
			<td id = "leaderboarddiv">
				<div id="leaderboard">
					<p id="head">Leaderboard </p>
					{{>leaderboard}}
				</div>
			</td>
			</tr></table>
</template>



<template name="leaderboard">
<div class="boardOfPlayers">
	{{first}}
	{{#each players}}
	    {{#if isFirst}}
		<div id="leaderboard-player">
		<span class="player">
		<i class="pull-right icon-chevron-left">{{> avatar user=this shape ="rounded" size="small"}}</i>
		<span id="first-lBoardDisplay">{{profile.name}}: {{profile.score}}</span>
		</span>
		</div>
	    {{else}}
		{{#if isSecond}}
			<div id="leaderboard-player">
			<span class="player">
			<i class="pull-right icon-chevron-left">{{> avatar user=this shape ="rounded" size="small"}}</i>
			<span id="second-lBoardDisplay">{{profile.name}}: {{profile.score}}</span>
			</span>
			</div>
		{{else}}
			{{#if isThird}}
				<div id="leaderboard-player">
				<span class="player">
				<i class="pull-right icon-chevron-left">{{> avatar user=this shape ="rounded" size="small"}}</i>
				<span id="third-lBoardDisplay">{{profile.name}}: {{profile.score}}</span>
				</span>
				</div>
			{{else}}
				<div id="leaderboard-player">
				<span class="player">
				<i class="pull-right icon-chevron-left">{{> avatar user=this shape ="rounded" size="small"}}</i>
				<span id="lBoardDisplay">{{profile.name}}: {{profile.score}}</span>
				</span>
				</div>
			{{/if}}
		{{/if}}
	    {{/if}}
	{{/each}}
</div>
</template>

<template name="login">
<table class="login-container" align=center><tr>
<td valign="top" align=center>
<img src="Logo.png" class="logo">
<p id="about">
<img src="info.png" class="img">
<span class="info"><b>Project E.N.D.A</b> is a real world treasure hunt.
Begin solving riddles and puzzles to find the location and go on an 
adventre exploring all of <b>Galway City</b>.<br><br> Once you reach your
location you will find a QR code that you must scan to complete your 
challange and move onto your next adventure. <br><br>Compete with other 
players to get to the top of the leaderboard and win prizes along the way!. 
<br>So what are you waiting for? <br><br>Come along!</span>
</p>
<div class="project"> PROJECT</div><div class="enda"> E.N.D.A</div>
<p class="subtext">Exciting New Data Adventure</p>
<div id="login-screen">
	{{>loginButtons}}
</div>
</td>
</tr></table>
</template>



<template name="navigation">
<ul class="nav nav-tabs">
  <li class="active nav-item">
	<a data-toggle="tab" href="#feed" class="navchange">News Feed</a>
  </li>
  <li class="nav-item">
	<a data-toggle="tab" href="#challenge" class="navchange">Challenge</a>
  </li>
  <li class="nav-item">
	<a data-toggle="tab" href="#comments" class="navchange">Comments</a>
  </li>
</ul>
<ul class="nav nav-tabs logout-align">
  <li class="nav-item logout-align">
	<a data-toggle="tab" href="#" class="logout navchange">Logout</a>
  </li>
</ul>

</template>



<template name="posts">
	
	<div id="commentBox">
		<form class="form-horizontal" role="form" id="postForm">
			<textarea class="form-control required" rows="3" id="inputPost" placeholder="Have your say here..." maxlength="140"></textarea>
			<label id="charRemaining" for="inputPost">{{charsRemaining}}</label>
			<button type="submit" class="btn" id="sub">Post</button>
		</form>
	</div>
	<div id="cDisplay">
	<div id="div2">
		{{#each posts}}
			<div class="well">
				<div class="row">
				<div class="col-sm-2 pull-left">
					{{> avatar userId=createdBy shape="rounded" size="small"}}
				</div>
				<div>
					<h4>{{creator (createdBy)}}</h4>			</div>
				<div class="col-sm-3 pull-right">
					{{timeDiff (date)}}
				</div>
				</div>
				<div class="row spacer">
				
					<div class="cText" id="post{{_id}}">
							{{post}}
						</div>
				</div>
				
			</div>
		{{/each}}
	</div>
	</div>
	
</template>



<template name="challenge">
	<img src={{puzzles}} id="cImage">
	<div class="challSubmit">
	<p class="challText">Enter code here:</p>
		<form id="challAnswer">
			<input type="text" placeholder="Answer" id="answer" class="form-control challAnswer">
			<button type="submit" class="btn submitAns" id="submitAnswer"><i class="glyphicon glyphicon-arrow-right"></i></button>
		</form>
	</div>
</template>



<template name="feed">
	<table height="482px">
		<tr>
			<td>
				<h1>Feed</h1>
			</td>
		</tr>
	</table>
</template>

<template name="profile">
	<table class="login-container" align=center><tr>
	<td width=360px height=540px valign="top" align=center>
	<div class="mainProfileText">Welcome to <br><b>Project E.N.D.A.</b><br></div>
	<div class="subProfileText">We just need a few more details.</div>
		<form id="signUp">
			<input type="text" placeholder="Name" id="nameAsk" class="form-control" maxlength="20">
			<textarea placeholder="Bio" id="bioAsk" class="form-control" maxlength="200"></textarea>
			<label id="charRemaining" for="inputPost">{{charsRemaining}}</label>
			<input type="text" placeholder="Link to avatar" id="linkAsk" class="form-control">
			<button type="submit" class="btn btn-primary" id="continue">Continue</button>
		</form>
	</td>
	</tr></table>
</template>

<template name="home">
	{{#if currentUser}}
		{{#if name}}
			{{> dashboard}}
		{{else}}
			{{> profile}}
		{{/if}}
	{{else}}
		{{> login}}
	{{/if}}
</template>